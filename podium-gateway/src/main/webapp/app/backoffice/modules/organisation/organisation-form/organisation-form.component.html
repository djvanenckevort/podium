<!--
  ~ Copyright (c) 2017. The Hyve and respective contributors
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~
  ~ See the file LICENSE in the root of this repository.
  ~
  -->

<div class="row">
    <h2>
        <span jhiTranslate="podiumGatewayApp.organisation.detail.title">Organisation</span>
    </h2>
    <jhi-alert></jhi-alert>

    <div class="container-fluid">
        <div class="col-md-6 offset-md-3 card-container">

            <form name="editForm" role="form" novalidate (ngSubmit)="save()" #editForm="ngForm">

                <jhi-alert-error></jhi-alert-error>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="podiumGatewayApp.organisation.name" for="field_name">Name</label>
                    <input type="text" class="form-control" name="name" id="field_name"
                           [(ngModel)]="organisation.name"
                           required />
                    <div [hidden]="!(editForm.controls.name?.dirty && editForm.controls.name?.invalid)">
                        <small class="form-text text-danger"
                               [hidden]="!editForm.controls.name?.errors?.required" jhiTranslate="entity.validation.required">
                            This field is required.
                        </small>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="podiumGatewayApp.organisation.shortName" for="field_shortName">Short Name</label>
                    <input type="text" class="form-control" name="shortName" id="field_shortName"
                           [(ngModel)]="organisation.shortName"
                           required maxlength="50" />
                    <div [hidden]="!(editForm.controls.shortName?.dirty && editForm.controls.shortName?.invalid)">
                        <small class="form-text text-danger"
                               [hidden]="!editForm.controls.shortName?.errors?.required" jhiTranslate="entity.validation.required">
                            This field is required.
                        </small>
                        <small class="form-text text-danger"
                               [hidden]="!editForm.controls.shortName?.errors?.maxlength" jhiTranslate="entity.validation.maxlength" translateValues="{ max: 50 }">
                            This field cannot be longer than 50 characters.
                        </small>
                    </div>
                </div>

                <!-- Request type -->
                <div class="form-group">
                    <label for="requestTypes">Request Type(s): </label>
                    <div class="checkbox-group">
                        <div *ngFor="let requestType of requestTypes | enumKeys">
                            <label>
                                <input type="checkbox"
                                       name="requestTypes"
                                       id="requestTypes"
                                       value="{{requestType.value}}"
                                       [checked]="requestDetail.requestType.indexOf(requestType.value) !== -1"
                                       (change)="updateRequestType(requestType, $event)" />
                                {{requestType.value | capitalize}}
                            </label>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <button type="button" class="btn btn-default" data-dismiss="modal" (click)="clear()">
                        <span class="fa fa-ban"></span>&nbsp;<span jhiTranslate="entity.action.cancel">Cancel</span>
                    </button>
                    <button type="submit" [disabled]="editForm.form.invalid || isSaving" *ngIf="!organisation.uuid" class="btn btn-primary">
                        <span class="fa fa-save"></span>&nbsp;<span jhiTranslate="entity.action.create">Create</span>
                    </button>
                    <button type="submit" [disabled]="editForm.form.invalid || isSaving" *ngIf="organisation.uuid" class="btn btn-primary">
                        <span class="fa fa-save"></span>&nbsp;<span jhiTranslate="entity.action.save">Save</span>
                    </button>
                </div>
            </form>

        </div>
    </div>
</div>
